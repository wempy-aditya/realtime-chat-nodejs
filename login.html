<!doctype html>
<html lang="en">
	
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-CuOF+2SnTUfTwSZjCXf01h7uYhfOBuxIhGKPbfEJ3+FqH/s6cIFN9bGr1HmAg4fQ" crossorigin="anonymous">
	<title>Real Time Chat | Login </title>
	
	<script>
		if (localStorage.getItem("loginSession")!=undefined) {
			window.location.href = "/room";
		} 
	</script>

    <style>
		body {
			padding-top: 5rem;
		}
		.bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			user-select: none;
		}
		@media (min-width: 768px) {
			.bd-placeholder-img-lg {
			font-size: 3.5rem;
			}
		}
    </style>

</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
		<div class="container-fluid">
			<a class="navbar-brand">
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-chat-right-text" viewBox="0 0 16 16">
					<path d="M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z"/>
					<path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
				</svg>
				WAW messenger
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto mb-2 mb-md-0">
					<li class="nav-item active">
						<a class="nav-link">Welcome to the short chat application!</a>
					</li>
				</ul>
				<div class="d-flex">
					<!-- <input class="form-control mr-2" type="search" placeholder="Search" aria-label="Search"> -->
					<!-- <button class="btn btn-outline-success" type="submit">Search</button> -->
				</div>
			</div>
		</div>
	</nav>

	<main class="container">

		<div class="card">
			<div class="card-header">
				<h4><b>Login Form</b></h4>
			</div>
			<div class="card-body">
				<div id="formLogin">
					<div class="mb-3">
						<label for="name" class="form-label">Name</label>
						<input type="text" class="form-control" name="name" id="nameField" placeholder="Type your name in here...." autofocus>
						<div id="peringatan"></div>
					</div>
					<div class="form-group form-check">
						<input type="checkbox" class="form-check-input" id="exampleCheck1">
						<label class="form-check-label" for="exampleCheck1">Remember me</label>
					</div>
				</div>
			</div>
			<div class="card-footer">
				<button id="loginButton" onclick="loginProcess()" class="btn btn-primary">Login</button>
			</div>
		</div>
		
	</main><!-- /.container -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-popRpmFF9JQgExhfw5tZT4I9/CI5e2QcuUZPOVXb1m7qUmeR2b50u+YFEYe1wgzy" crossorigin="anonymous"></script>

	<script type="text/javascript">

		var inputLogin = document.getElementById("nameField");
		inputLogin.addEventListener("keyup", function(event) { 
			if (event.keyCode === 13) { 
				event.preventDefault();
				loginProcess();
			}
		});

		function loginProcess() {
			var nameField = document.getElementById("nameField").value;
			var valid = nameField.length;
			if (valid == 0) {
				document.getElementById("peringatan").innerHTML = '<small class="form-text text-danger">Kolom Nama Wajib Diisi Dan Tidak Boleh Kosong!</small>';
			} else {
				localStorage.setItem("loginSession", nameField);
				window.location.href = "/room";
			}
		}
	</script>

</body>
</html>